<div class="page-layout carded fullwidth">

    <!-- TOP BACKGROUND -->
    <div class="top-bg accent"></div>
    <!-- / TOP BACKGROUND -->

    <!-- CENTER -->
    <div class="center">

        <!-- CONTENT HEADER -->
        <div class="header accent p-24" fxLayout="row" fxLayoutAlign="start center">
            <h2 class="m-0">Module de gestion des bulletins</h2>
        </div>
        <!-- / CONTENT HEADER -->

        <!-- CONTENT CARD -->
        <div class="content-card">

            <!-- CONTENT TOOLBAR -->
            <div class="toolbar px-24 py-8">
                <span>Bulletin</span>
            </div>
            <!-- / CONTENT TOOLBAR -->

            <!-- CONTENT -->
            
            <div fxLayout="row" fxLayoutAlign="start" fxFlex="1 0 auto" style="font-size:20px">
                <div fxFlex="30"  > 
                <label  for="field_groupe"><B>AnneeAccademique</B></label>
                    <select id="field_groupe" name="anneeAccademique" [(ngModel)]="anneeAccademique"  required (ngModelChange)= "getGroupeEtudiant()" >
                        <option [ngValue]="anneeAccademiqueOption" *ngFor="let anneeAccademiqueOption of anneeAccademiques">{{anneeAccademiqueOption.nomAnneeAccademique}}</option>
                    </select> 
                </div>
            <div fxFlex="30"  > 
                <label class="form-control-label" for="field_groupe"><B>Classe</B></label>
                    <select class="form-control-lg" id="field_groupe" name="classe" [(ngModel)]="classe"  required (ngModelChange)= "getSemestres()" >
                        <option [ngValue]="null" selected></option>
                        <option [ngValue]="groupeOption" *ngFor="let groupeOption of classes">{{groupeOption.libelle}}</option>
                    </select>
                    </div>
                <div *ngIf="classe" fxFlex="30"   >
                            <label class="form-control-label" for="field_semestre"><B>Semestre</B></label>
                            <select class="form-control-lg" id="field_semestre" name="semestre" [(ngModel)]="semestre"  >
                                <option [ngValue]="null" selected></option>
                                <option *ngFor="let semestre of semestres" value="{{ semestre.id }}">{{semestre.nomSemestre}}</option>
                            </select>
                  </div>
                 
                    <div  *ngIf="semestre" fxFlex="30"   >
                        <label class="form-control-label" for="field_session"><B>Session</B></label>
                        <select class="form-control-lg" id="field_session" name="session" [(ngModel)]="session" (ngModelChange)= "getNotes()" >
                            <option [ngValue]="null" selected></option>
                            <option *ngFor="let session of sessions" [ngValue]="session">{{session.session}}</option>
                        </select>
                    </div>
                </div> 
   
       <div >
            <table class="table table-bordered table-hover" >
                <tbody>
                    <div *ngFor="let note of notes">
                        <div *ngFor="let unite of note.noteUnite">
                            <tr>
                                <td width=54%> <B>El√©ment Constitutif</B> </td>
                                <td width=7%> <B>Coef</B> </td>
                                <td width=7%> <B>TP</B> </td>
                                <td width=9% > <B>CC</B> </td>
                                <td width=9% > <B>DS</B> </td>
                                <td width=14%> <B>Moyenne</B> </td>
                                <td width=14%> <B>Reclamation</B> </td>
                            </tr> 
                            <tr *ngFor="let note of unite.notes">
                                <td width=54%> {{note.historiqueElementContitutif.intitule}} </td>
                                <td width=7%>{{note.historiqueElementContitutif.coeff}}</td>
                                <td width=7%>{{note?.note?.tp}}</td>
                                <td width=9%>{{note?.note?.cc}}</td>
                                <td width=9%>{{note?.note?.ds}}</td>
                                <td  width=14% > <span *ngIf="note.note.moyenne">{{note?.note?.moyenne.toFixed(2)}}</span> </td>
                                <td width=20% ><button type="button" class="btn btn-primary btn-sm" (click)="newContact(note.historiqueElementContitutif,note?.note)" >RECLAMER</button></td>
                            </tr>
                            <tr>
                                <td> <B>{{unite.historiqueUniteEnseignement.intitules}}</B> </td>
                                <td colspan="2"><B> Credit: {{unite.historiqueUniteEnseignement.credit}}</B></td>
                                <td colspan="2"><B> Moyenne: {{unite?.moyenne}}</B></td>
                                <td> <B>{{unite.absence}} Absence(s) </B></td>
                            </tr>
                        </div>
                        <br>
                        <br>
                        <div>
                            <B> Moyenne  Semestre {{note.moyenne}}</B>
                        </div>
                    </div>
                </tbody>
            </table>
        </div>
    
       
    </div>
            <!-- / CONTENT -->

        </div>
        <!-- / CONTENT CARD -->
       
    
    <!-- / CENTER -->

